<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Tarjetas - Leonova Studio</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
        }
        
        .sidebar {
            width: 300px;
            background: rgba(255,255,255,0.95);
            padding: 20px;
            overflow-y: auto;
        }
        
        .main {
            flex: 1;
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 350px;
            text-align: center;
        }
        
        .avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }
        
        .name { font-size: 24px; font-weight: bold; margin-bottom: 5px; color: #333; }
        .job { color: #667eea; font-weight: 600; margin-bottom: 10px; }
        .company { 
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        .contact { text-align: left; margin: 20px 0; }
        .contact-item { 
            display: flex; 
            align-items: center; 
            margin-bottom: 10px;
            font-size: 14px;
            color: #666;
        }
        .contact-icon { 
            width: 16px; 
            height: 16px; 
            background: #667eea; 
            border-radius: 3px; 
            margin-right: 10px; 
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .btn:hover { transform: translateY(-2px); }
        
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: 600; color: #333; }
        .input-group input { 
            width: 100%; 
            padding: 10px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            font-size: 14px;
        }
        
        .template-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .template-btn {
            padding: 15px 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
        }
        .template-btn.active { border-color: #667eea; background: #f0f4ff; }
        
        .color-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }
        .color-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid transparent;
            cursor: pointer;
        }
        .color-btn.active { border-color: white; box-shadow: 0 0 0 2px #667eea; }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            display: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h1 style="text-align: center; margin-bottom: 20px; color: #333;">üé® Leonova Studio</h1>
        <p style="text-align: center; margin-bottom: 30px; color: #666; font-size: 14px;">Generador de Tarjetas Digitales</p>
        
        <h3 style="margin-bottom: 10px; color: #333;">Plantillas</h3>
        <div class="template-grid">
            <button class="template-btn active" onclick="changeTemplate('elegant')">Elegante</button>
            <button class="template-btn" onclick="changeTemplate('modern')">Moderna</button>
            <button class="template-btn" onclick="changeTemplate('minimal')">Minimalista</button>
            <button class="template-btn" onclick="changeTemplate('creative')">Creativa</button>
        </div>
        
        <h3 style="margin-bottom: 10px; color: #333;">Colores</h3>
        <div class="color-grid">
            <button class="color-btn active" style="background: linear-gradient(135deg, #667eea, #764ba2);" onclick="changeColor('purple')"></button>
            <button class="color-btn" style="background: linear-gradient(135deg, #3b82f6, #06b6d4);" onclick="changeColor('blue')"></button>
            <button class="color-btn" style="background: linear-gradient(135deg, #10b981, #14b8a6);" onclick="changeColor('green')"></button>
            <button class="color-btn" style="background: linear-gradient(135deg, #f59e0b, #ef4444);" onclick="changeColor('orange')"></button>
        </div>
        
        <h3 style="margin-bottom: 15px; color: #333;">Informaci√≥n</h3>
        <div class="input-group">
            <label>Nombre</label>
            <input type="text" id="fullName" value="Leonardo V√°squez" onkeyup="updateCard()">
        </div>
        <div class="input-group">
            <label>Cargo</label>
            <input type="text" id="jobTitle" value="CEO & Fundador" onkeyup="updateCard()">
        </div>
        <div class="input-group">
            <label>Empresa</label>
            <input type="text" id="company" value="Leonova Studio" onkeyup="updateCard()">
        </div>
        <div class="input-group">
            <label>Email</label>
            <input type="email" id="email" value="leo-contact@leonovastudio.shop" onkeyup="updateCard()">
        </div>
        <div class="input-group">
            <label>Tel√©fono</label>
            <input type="tel" id="phone" value="+18687786115" onkeyup="updateCard()">
        </div>
        <div class="input-group">
            <label>Sitio Web</label>
            <input type="text" id="website" value="www.leonovastudio.shop" onkeyup="updateCard()">
        </div>
        
        <h3 style="margin: 20px 0 15px 0; color: #333;">Fotograf√≠a</h3>
        <div class="input-group">
            <label>Foto de Perfil</label>
            <input type="file" id="profileImage" accept="image/*" onchange="handleImageUpload(this)" style="margin-bottom: 10px;">
            <div id="imagePreview" style="width: 60px; height: 60px; border-radius: 50%; background: #f0f0f0; margin: 10px auto; display: flex; align-items: center; justify-content: center; color: #999; font-size: 12px; text-align: center; line-height: 1.2;">Sin imagen</div>
        </div>
        
        <button class="btn" onclick="downloadCard()">üì• Descargar Tarjeta</button>
        <button class="btn" onclick="saveVCard()">üìá Guardar vCard</button>
        <button class="btn" onclick="generateLink()">üîó Generar Enlace</button>
    </div>
    
    <div class="main">
        <div>
            <h2 style="color: white; text-align: center; margin-bottom: 20px; font-size: 28px;">Vista Previa</h2>
            <p style="color: rgba(255,255,255,0.8); text-align: center; margin-bottom: 30px;">Los cambios se reflejan en tiempo real</p>
            
            <div id="cardPreview" class="card">
                <!-- La tarjeta se genera aqu√≠ -->
            </div>
        </div>
    </div>
    
    <div id="notification" class="notification"></div>

    <script>
        let currentTemplate = 'elegant';
        let currentColor = 'purple';
        let profileImageUrl = null;
        
        const colors = {
            purple: { gradient: 'linear-gradient(135deg, #667eea, #764ba2)', solid: '#667eea' },
            blue: { gradient: 'linear-gradient(135deg, #3b82f6, #06b6d4)', solid: '#3b82f6' },
            green: { gradient: 'linear-gradient(135deg, #10b981, #14b8a6)', solid: '#10b981' },
            orange: { gradient: 'linear-gradient(135deg, #f59e0b, #ef4444)', solid: '#f59e0b' }
        };

        function handleImageUpload(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    profileImageUrl = e.target.result;
                    
                    // Actualizar vista previa en el panel
                    const preview = document.getElementById('imagePreview');
                    preview.innerHTML = '';
                    preview.style.backgroundImage = `url(${profileImageUrl})`;
                    preview.style.backgroundSize = 'cover';
                    preview.style.backgroundPosition = 'center';
                    
                    // Actualizar tarjeta
                    updateCard();
                };
                reader.readAsDataURL(file);
            }
        }

        function changeTemplate(template) {
            currentTemplate = template;
            
            // Actualizar botones
            document.querySelectorAll('.template-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateCard();
        }

        function changeColor(color) {
            currentColor = color;
            
            // Actualizar botones
            document.querySelectorAll('.color-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateCard();
        }

        function updateCard() {
            const name = document.getElementById('fullName').value;
            const job = document.getElementById('jobTitle').value;
            const company = document.getElementById('company').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const website = document.getElementById('website').value;
            
            const colorScheme = colors[currentColor];
            const initial = name.charAt(0).toUpperCase();
            
            // Crear avatar con imagen o inicial
            const avatarContent = profileImageUrl 
                ? `<div class="avatar" style="background-image: url(${profileImageUrl}); background-size: cover; background-position: center;"></div>`
                : `<div class="avatar" style="background: ${colorScheme.gradient};">${initial}</div>`;
            
            let cardHTML = '';
            
            if (currentTemplate === 'elegant') {
                cardHTML = `
                    ${avatarContent}
                    <div class="name">${name}</div>
                    <div class="job" style="color: ${colorScheme.solid};">${job}</div>
                    <div class="company" style="background: ${colorScheme.gradient};">${company}</div>
                    
                    <div class="contact">
                        <div class="contact-item">
                            <div class="contact-icon" style="background: ${colorScheme.solid};"></div>
                            <span>${phone}</span>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon" style="background: ${colorScheme.solid};"></div>
                            <span>${email}</span>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon" style="background: ${colorScheme.solid};"></div>
                            <span>${website}</span>
                        </div>
                    </div>
                    
                    <button class="btn" style="background: ${colorScheme.gradient};">Contactar</button>
                    
                    <div style="margin-top: 20px; font-size: 12px; color: #999;">
                        ¬© 2025 Leonova Studio
                    </div>
                `;
            } else if (currentTemplate === 'modern') {
                const modernAvatar = profileImageUrl 
                    ? `<div class="avatar" style="background-image: url(${profileImageUrl}); background-size: cover; background-position: center; width: 60px; height: 60px; font-size: 18px;"></div>`
                    : `<div class="avatar" style="background: ${colorScheme.gradient}; width: 60px; height: 60px; font-size: 18px;">${initial}</div>`;
                
                cardHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div style="text-align: left;">
                            <div class="name">${name}</div>
                            <div class="job" style="color: ${colorScheme.solid};">${job}</div>
                        </div>
                        ${modernAvatar}
                    </div>
                    
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <strong>${company}</strong>
                        <p style="margin-top: 5px; font-size: 14px; color: #666;">Especialista en dise√±o digital y experiencias de usuario.</p>
                    </div>
                    
                    <div class="contact">
                        <div class="contact-item">üìû ${phone}</div>
                        <div class="contact-item">‚úâÔ∏è ${email}</div>
                        <div class="contact-item">üåê ${website}</div>
                    </div>
                    
                    <button class="btn" style="background: ${colorScheme.gradient};">Conectar</button>
                    
                    <div style="margin-top: 20px; font-size: 12px; color: #999;">
                        ¬© 2025 Leonova Studio
                    </div>
                `;
            } else if (currentTemplate === 'minimal') {
                const minimalAvatar = profileImageUrl 
                    ? `<div style="background-image: url(${profileImageUrl}); background-size: cover; background-position: center; width: 60px; height: 60px; border-radius: 50%; margin: 0 auto 20px;"></div>`
                    : `<div style="background: #f5f5f5; width: 60px; height: 60px; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: bold; color: #666;">${initial}</div>`;
                
                cardHTML = `
                    ${minimalAvatar}
                    <div class="name">${name}</div>
                    <div style="color: #666; margin-bottom: 5px;">${job}</div>
                    <div style="color: #999; font-size: 14px; margin-bottom: 20px;">${company}</div>
                    
                    <div style="border-top: 1px solid #eee; padding-top: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px;">
                            <span style="color: #999;">Tel√©fono</span>
                            <span>${phone}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px;">
                            <span style="color: #999;">Email</span>
                            <span>${email}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px;">
                            <span style="color: #999;">Web</span>
                            <span>${website}</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; font-size: 12px; color: #999;">
                        ¬© 2025 Leonova Studio
                    </div>
                `;
            } else if (currentTemplate === 'creative') {
                cardHTML = `
                    <div style="position: relative;">
                        <div style="position: absolute; top: -40px; right: -40px; width: 80px; height: 80px; background: ${colorScheme.gradient}; border-radius: 50%; opacity: 0.2;"></div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px;">
                            <div style="text-align: left; flex: 1;">
                                <div class="name">${name}</div>
                                <div class="job" style="color: ${colorScheme.solid};">${job}</div>
                                <div class="company" style="background: ${colorScheme.gradient}; margin-top: 10px;">${company}</div>
                            </div>
                            ${profileImageUrl 
                                ? `<div class="avatar" style="background-image: url(${profileImageUrl}); background-size: cover; background-position: center; width: 50px; height: 50px; font-size: 16px; border-radius: 15px;"></div>`
                                : `<div class="avatar" style="background: ${colorScheme.gradient}; width: 50px; height: 50px; font-size: 16px; border-radius: 15px;">${initial}</div>`
                            }
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 15px; margin-bottom: 20px;">
                            <p style="font-size: 14px; color: #666;">Especialista en dise√±o digital, desarrollo web y experiencias de usuario innovadoras.</p>
                        </div>
                        
                        <div style="display: grid; gap: 10px;">
                            <div style="display: flex; align-items: center; background: #f8f9fa; padding: 10px; border-radius: 10px; font-size: 14px;">
                                <span style="margin-right: 10px;">üìû</span> ${phone}
                            </div>
                            <div style="display: flex; align-items: center; background: #f8f9fa; padding: 10px; border-radius: 10px; font-size: 14px;">
                                <span style="margin-right: 10px;">‚úâÔ∏è</span> ${email}
                            </div>
                            <div style="display: flex; align-items: center; background: #f8f9fa; padding: 10px; border-radius: 10px; font-size: 14px;">
                                <span style="margin-right: 10px;">üåê</span> ${website}
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px; font-size: 12px; color: #999;">
                            ¬© 2025 Leonova Studio
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('cardPreview').innerHTML = cardHTML;
        }

        function downloadCard() {
            const cardContent = document.getElementById('cardPreview').innerHTML;
            const name = document.getElementById('fullName').value;
            
            const fullHTML = `<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarjeta Digital - ${name}</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }
        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 350px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="card">${cardContent}</div>
</body>
</html>`;

            const blob = new Blob([fullHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = name.replace(/\s+/g, '_') + '_tarjeta.html';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('¬°Tarjeta descargada exitosamente! üéâ');
        }

        function saveVCard() {
            const name = document.getElementById('fullName').value;
            const job = document.getElementById('jobTitle').value;
            const company = document.getElementById('company').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const website = document.getElementById('website').value;

            const vcard = `BEGIN:VCARD
VERSION:3.0
FN:${name}
ORG:${company}
TITLE:${job}
TEL:${phone}
EMAIL:${email}
URL:${website}
END:VCARD`;

            const blob = new Blob([vcard], { type: 'text/vcard' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = name.replace(/\s+/g, '_') + '.vcf';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('¬°vCard guardada exitosamente! üìá');
        }

        function generateLink() {
            showNotification('¬°Enlace generado! (Funci√≥n demo) üîó');
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Inicializar
        updateCard();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97bf82c4115367e6',t:'MTc1NzM0NTY3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
